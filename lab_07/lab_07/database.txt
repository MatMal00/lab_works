CREATE TABLE [dbo].[Users] (
	[Id] BIGINT IDENTITY(1,1) NOT NULL,
	[Nickname] NVARCHAR(100) NOT NULL,
	[RoleId] BIGINT NOT NULL,
	PRIMARY KEY ([Id])
);

CREATE TABLE [dbo].[Roles] (
	[Id] BIGINT IDENTITY(1,1) NOT NULL,
	[Name] NVARCHAR(100) NOT NULL,
	PRIMARY KEY ([Id])
);

CREATE TABLE [dbo].[Tasks] (
	[Id] BIGINT IDENTITY(1,1) NOT NULL,
	[Title] NVARCHAR(200) NOT NULL,
	[Description] NVARCHAR(400) NOT NULL,
	[UserId] BIGINT NOT NULL,
	PRIMARY KEY ([Id])
);

ALTER TABLE [dbo].[Users]
	ADD CONSTRAINT FK_User_Role FOREIGN KEY (RoleId)
	REFERENCES [dbo].[Roles] (Id)
	ON DELETE CASCADE
	ON UPDATE CASCADE;

ALTER TABLE [dbo].[Tasks]
	ADD CONSTRAINT FK_Task_User FOREIGN KEY (UserId)
	REFERENCES [dbo].[Users] (Id)
	ON DELETE CASCADE
	ON UPDATE CASCADE;

